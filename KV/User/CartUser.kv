#:import C kivy.utils.get_color_from_hex

<CartScreen@Screen>:
    name: 'cart'
    FitImage:
        source: 'RES/IconsAndBGs/bg2.png'

    FloatLayout:
        MDLabel:
            text: 'EASYWARE'
            font_name: 'Nunito'
            color: "3b4949"
            font_size: .065 * root.height
            halign: 'right'
            size_hint: 1, .065
            pos_hint: {'right': .9 ,'top': .95}
        MDLabel:
            text: 'CART'
            font_name: 'Nunito'
            color: "ec8c6f"
            font_size: .035 * root.height
            halign: 'right'
            size_hint: 1, .035
            pos_hint: {'right': .9 ,'top': .89}
        
        Button:
            text: 'Delete All'
            text_color: '#ec8c6f'
            font_name: 'Nunito'
            font_size: root.height * .03
            size_hint: .25, .045
            pos_hint: {'center_x': .35,'center_y': 0.825}
            background_color: (0,0,0,0)
            on_release: app.deleteAllCart()
            canvas.before:
                Color:
                    rgba: rgba(236,140,111,255)
                RoundedRectangle:
                    size: self.size
                    pos: self.pos
                    radius: [root.height * .0075]
        
        Button:
            text: 'Check Out'
            text_color: '#ec8c6f'
            font_name: 'Nunito'
            font_size: root.height * .03
            size_hint: .25, .045
            pos_hint: {'center_x': .65,'center_y': 0.825}
            background_color: (0,0,0,0)
            on_release: app.checkOut()
            canvas.before:
                Color:
                    rgba: rgba(236,140,111,255)
                RoundedRectangle:
                    size: self.size
                    pos: self.pos
                    radius: [root.height  * .0075]
    
        MDBoxLayout:
            pos_hint: {'center_x': 0.5,'y': 0.1}
            size_hint: 1, .68
            RecycleView:
                viewclass: 'RecycleCardCart'
                id: cartrecycleview
                size_hint: 1,1
                RecycleGridLayout:
                    cols:1
                    padding: root.width * .1,0,root.width * .1,0
                    size_hint_y: None
                    default_size: None, self.width*.2
                    default_size_hint: 1, None
                    height: self.minimum_height
        
        MDCard:     #Custom Bottom Nav
            pos_hint: {'center_x': .5,'y': 0.0}
            size_hint: 1,.085
            md_bg_color: '#bdf4f1'

        MDCard:     #User Button
            on_press: app.root.current = 'user'
            size_hint: None, None
            size: root.height*.05,root.height*.05
            pos_hint: {'center_x': 0.195,'center_y': 0.042}
            md_bg_color: 0,0,0,0
            FitImage:     #TBD
                source: 'RES/IconsAndBGs/userBLK.png'
                size: root.height,root.height

        MDCard:     #Home Button
            on_press: app.root.current = 'home'
            size_hint: None, None
            size: root.height*.05,root.height*.05
            pos_hint: {'center_x': 0.396,'center_y': 0.042}
            md_bg_color: 0,0,0,0
            FitImage:     #TBD
                source: 'RES/IconsAndBGs/homeBLK.png'
                size: root.height,root.height

        MDCard:     #Search Button
            on_press: app.root.current = 'search'
            size_hint: None, None
            size: root.height*.05,root.height*.05
            pos_hint: {'center_x': 0.597,'center_y': 0.042}
            md_bg_color: 0,0,0,0
            FitImage:     #TBD
                source: 'RES/IconsAndBGs/searchBLK.png'
                size: root.height,root.height

        MDCard:     #Cart Button
            size_hint: None, None
            size: root.height*.05,root.height*.05
            pos_hint: {'center_x': 0.798,'center_y': 0.042}
            md_bg_color: 0,0,0,0
            FitImage:     #TBD
                source: 'RES/IconsAndBGs/shopping-cartPRSD.png'
                size: root.height,root.height

<RecycleCardCart>:
    md_bg_color: 0,0,0,0
    padding: self.width*.02
    spacing: self.width*.02
    FloatLayout:
        MDCard:
            pos_hint: {'center_x': 0.5,'center_y': 0.5}
            md_bg_color: '70ece4'
            radius: root.width*.035,root.width*.035,root.width*.035,0

        MDCard:
            size_hint: .25, .75
            orientation: 'vertical'
            radius: root.width*.035,root.width*.035,root.width*.035,0
            pos_hint: {'center_x': .15,'center_y': 0.5}
            padding:
            FitImage:
                size_hint: .775, .775
                pos_hint: {'center_x': 0.5,'center_y': 0.5}
                source: root.image
                allow_stretch: True

        MDLabel:
            pos_hint: {'x': .3,'center_y': .65}
            size_hint: 1, .5
            halign: 'left'
            text: root.total
            color: "3b4949"
            font_name: 'Nunito'
            font_size: root.width*.1
        
        MDLabel:
            pos_hint: {'x': .3,'center_y': .25}
            size_hint: 1, .2
            halign: 'left'
            text: root.name
            color: "ec8c6f"
            font_name: 'Nunito'
            font_size: root.width*.06 
        
        MDCard:
            on_press: app.count('add',root)
            size_hint: None, None
            size: root.height*.3,root.height*.3
            pos_hint: {'center_x': 0.825,'center_y': 0.3}
            md_bg_color: 0,0,0,0,
            FitImage:     #TBD
                source: 'RES/IconsAndBGs/plus-circle-outline.png'
                size: root.height,root.height
        
        MDCard:
            on_press: app.count('min',root)
            size_hint: None, None
            size: root.height*.3,root.height*.3
            pos_hint: {'center_x': 0.925,'center_y': 0.3}
            md_bg_color: 0,0,0,0,
            FitImage:     #TBD
                source: 'RES/IconsAndBGs/minus-circle-outline.png'
                size: root.height,root.height
        
        MDLabel:
            pos_hint: {'center_x': .875,'center_y': .675}
            size_hint: 1, .25
            halign: 'center'
            text: str(root.quantity)
            color: "ec8c6f"
            font_name: 'Nunito'
            font_size: root.width*.09

        MDCard:
            pos_hint: {'x': 0,'center_y': 0.5}
            size_hint: .75,1
            md_bg_color: 0,0,0,0
            on_release: 
                app.gotoItem(root.id)